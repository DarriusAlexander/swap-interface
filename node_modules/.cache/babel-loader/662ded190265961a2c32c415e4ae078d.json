{"ast":null,"code":"import _taggedTemplateLiteral from\"C:\\\\Users\\\\Darrius\\\\Documents\\\\GitHub\\\\swap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject12(){var data=_taggedTemplateLiteral([\"\\n  border: 1px solid \",\";\\n  padding: 16px 12px;\\n  border-radius: 12px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n\"]);_templateObject12=function _templateObject12(){return data;};return data;}function _templateObject11(){var data=_taggedTemplateLiteral([\"\\n  color: \",\";\\n\"]);_templateObject11=function _templateObject11(){return data;};return data;}function _templateObject10(){var data=_taggedTemplateLiteral([\"\\n  border: 1px solid \",\";\\n  padding: 2px 4px;\\n  border-radius: 8px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\"]);_templateObject10=function _templateObject10(){return data;};return data;}function _templateObject9(){var data=_taggedTemplateLiteral([\"\\n  color: \",\";\\n  :hover {\\n    cursor: pointer;\\n    text-decoration: underline;\\n  }\\n\"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=_taggedTemplateLiteral([\"\\n    flex-wrap: wrap;\\n  \\n  \"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n  \",\";\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n  background: radial-gradient(76.02% 75.41% at 1.84% 0%, #27ae60 0%, #000000 100%);\\n  overflow: hidden;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  font-weight: 600;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  opacity: 0.6;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  padding: 0.75rem 1rem;\\n  width: 100%;\\n  margin-top: 1rem;\\n  border-radius: 12px;\\n  display: grid;\\n  grid-template-columns: 48px 1fr 120px;\\n  align-items: center;\\n  text-align: left;\\n  outline: none;\\n  cursor: pointer;\\n  color: \",\";\\n  text-decoration: none;\\n  background-color: \",\";\\n  &:focus {\\n    background-color: \",\";\\n  }\\n  &:hover {\\n    background-color: \",\";\\n  }\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  max-width: 640px;\\n  width: 100%;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\"]);_templateObject=function _templateObject(){return data;};return data;}import React from'react';import{AutoColumn}from'../../components/Column';import styled from'styled-components';import{TYPE,ExternalLink}from'../../theme';import{RowBetween,RowFixed}from'../../components/Row';import{Link}from'react-router-dom';import{ProposalStatus}from'./styled';import{ButtonPrimary}from'../../components/Button';import{Button}from'rebass/styled-components';import{darken}from'polished';import{CardSection,DataCard,CardNoise,CardBGImage}from'../../components/earn/styled';import{useAllProposalData,useUserVotes,useUserDelegatee}from'../../state/governance/hooks';import DelegateModal from'../../components/vote/DelegateModal';import{useTokenBalance}from'../../state/wallet/hooks';import{useActiveWeb3React}from'../../hooks';import{UNI,ZERO_ADDRESS}from'../../constants';import{JSBI,ChainId}from'@uniswap/sdk';import{shortenAddress,getEtherscanLink}from'../../utils';import Loader from'../../components/Loader';import FormattedCurrencyAmount from'../../components/FormattedCurrencyAmount';import{useModalOpen,useToggleDelegateModal}from'../../state/application/hooks';import{ApplicationModal}from'../../state/application/actions';var PageWrapper=styled(AutoColumn)(_templateObject());var TopSection=styled(AutoColumn)(_templateObject2());var Proposal=styled(Button)(_templateObject3(),function(_ref){var theme=_ref.theme;return theme.text1;},function(_ref2){var theme=_ref2.theme;return theme.bg1;},function(_ref3){var theme=_ref3.theme;return darken(0.05,theme.bg1);},function(_ref4){var theme=_ref4.theme;return darken(0.05,theme.bg1);});var ProposalNumber=styled.span(_templateObject4());var ProposalTitle=styled.span(_templateObject5());var VoteCard=styled(DataCard)(_templateObject6());var WrapSmall=styled(RowBetween)(_templateObject7(),function(_ref5){var theme=_ref5.theme;return theme.mediaWidth.upToSmall(_templateObject8());});var TextButton=styled(TYPE.main)(_templateObject9(),function(_ref6){var theme=_ref6.theme;return theme.primary1;});var AddressButton=styled.div(_templateObject10(),function(_ref7){var theme=_ref7.theme;return theme.bg3;});var StyledExternalLink=styled(ExternalLink)(_templateObject11(),function(_ref8){var theme=_ref8.theme;return theme.text1;});var EmptyProposals=styled.div(_templateObject12(),function(_ref9){var theme=_ref9.theme;return theme.text4;});export default function Vote(){var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account,chainId=_useActiveWeb3React.chainId;// toggle for showing delegation modal\nvar showDelegateModal=useModalOpen(ApplicationModal.DELEGATE);var toggleDelegateModal=useToggleDelegateModal();// get data to list all proposals\nvar allProposals=useAllProposalData();// user data\nvar availableVotes=useUserVotes();var uniBalance=useTokenBalance(account!==null&&account!==void 0?account:undefined,chainId?UNI[chainId]:undefined);var userDelegatee=useUserDelegatee();// show delegation option if they have have a balance, but have not delegated\nvar showUnlockVoting=Boolean(uniBalance&&JSBI.notEqual(uniBalance.raw,JSBI.BigInt(0))&&userDelegatee===ZERO_ADDRESS);return/*#__PURE__*/React.createElement(PageWrapper,{gap:\"lg\",justify:\"center\"},/*#__PURE__*/React.createElement(DelegateModal,{isOpen:showDelegateModal,onDismiss:toggleDelegateModal,title:showUnlockVoting?'Unlock Votes':'Update Delegation'}),/*#__PURE__*/React.createElement(TopSection,{gap:\"md\"},/*#__PURE__*/React.createElement(VoteCard,null,/*#__PURE__*/React.createElement(CardBGImage,null),/*#__PURE__*/React.createElement(CardNoise,null),/*#__PURE__*/React.createElement(CardSection,null,/*#__PURE__*/React.createElement(AutoColumn,{gap:\"md\"},/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(TYPE.white,{fontWeight:600},\"Uniswap Governance\")),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(TYPE.white,{fontSize:14},\"UNI tokens represent voting shares in Uniswap governance. You can vote on each proposal yourself or delegate your votes to a third party.\")),/*#__PURE__*/React.createElement(ExternalLink,{style:{color:'white',textDecoration:'underline'},href:\"https://uniswap.org/blog/uni\",target:\"_blank\"},/*#__PURE__*/React.createElement(TYPE.white,{fontSize:14},\"Read more about Uniswap governance\")))),/*#__PURE__*/React.createElement(CardBGImage,null),/*#__PURE__*/React.createElement(CardNoise,null))),/*#__PURE__*/React.createElement(TopSection,{gap:\"2px\"},/*#__PURE__*/React.createElement(WrapSmall,null,/*#__PURE__*/React.createElement(TYPE.mediumHeader,{style:{margin:'0.5rem 0.5rem 0.5rem 0',flexShrink:0}},\"Proposals\"),(!allProposals||allProposals.length===0)&&!availableVotes&&/*#__PURE__*/React.createElement(Loader,null),showUnlockVoting?/*#__PURE__*/React.createElement(ButtonPrimary,{style:{width:'fit-content'},padding:\"8px\",borderRadius:\"8px\",onClick:toggleDelegateModal},\"Unlock Voting\"):availableVotes&&JSBI.notEqual(JSBI.BigInt(0),availableVotes===null||availableVotes===void 0?void 0:availableVotes.raw)?/*#__PURE__*/React.createElement(TYPE.body,{fontWeight:500,mr:\"6px\"},/*#__PURE__*/React.createElement(FormattedCurrencyAmount,{currencyAmount:availableVotes}),\" Votes\"):uniBalance&&userDelegatee&&userDelegatee!==ZERO_ADDRESS&&JSBI.notEqual(JSBI.BigInt(0),uniBalance===null||uniBalance===void 0?void 0:uniBalance.raw)?/*#__PURE__*/React.createElement(TYPE.body,{fontWeight:500,mr:\"6px\"},/*#__PURE__*/React.createElement(FormattedCurrencyAmount,{currencyAmount:uniBalance}),\" Votes\"):''),!showUnlockVoting&&/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(\"div\",null),userDelegatee&&userDelegatee!==ZERO_ADDRESS?/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(TYPE.body,{fontWeight:500,mr:\"4px\"},\"Delegated to:\"),/*#__PURE__*/React.createElement(AddressButton,null,/*#__PURE__*/React.createElement(StyledExternalLink,{href:getEtherscanLink(ChainId.MAINNET,userDelegatee,'address'),style:{margin:'0 4px'}},userDelegatee===account?'Self':shortenAddress(userDelegatee)),/*#__PURE__*/React.createElement(TextButton,{onClick:toggleDelegateModal,style:{marginLeft:'4px'}},\"(edit)\"))):''),(allProposals===null||allProposals===void 0?void 0:allProposals.length)===0&&/*#__PURE__*/React.createElement(EmptyProposals,null,/*#__PURE__*/React.createElement(TYPE.body,{style:{marginBottom:'8px'}},\"No proposals found.\"),/*#__PURE__*/React.createElement(TYPE.subHeader,null,/*#__PURE__*/React.createElement(\"i\",null,\"Proposals submitted by community members will appear here.\"))),allProposals===null||allProposals===void 0?void 0:allProposals.map(function(p,i){return/*#__PURE__*/React.createElement(Proposal,{as:Link,to:'/vote/'+p.id,key:i},/*#__PURE__*/React.createElement(ProposalNumber,null,p.id),/*#__PURE__*/React.createElement(ProposalTitle,null,p.title),/*#__PURE__*/React.createElement(ProposalStatus,{status:p.status},p.status));})),/*#__PURE__*/React.createElement(TYPE.subHeader,{color:\"text3\"},\"A minimum threshhold of 1% of the total UNI supply is required to submit proposals\"));}","map":{"version":3,"sources":["C:/Users/Darrius/Documents/GitHub/swap-interface/src/pages/Vote/index.tsx"],"names":["React","AutoColumn","styled","TYPE","ExternalLink","RowBetween","RowFixed","Link","ProposalStatus","ButtonPrimary","Button","darken","CardSection","DataCard","CardNoise","CardBGImage","useAllProposalData","useUserVotes","useUserDelegatee","DelegateModal","useTokenBalance","useActiveWeb3React","UNI","ZERO_ADDRESS","JSBI","ChainId","shortenAddress","getEtherscanLink","Loader","FormattedCurrencyAmount","useModalOpen","useToggleDelegateModal","ApplicationModal","PageWrapper","TopSection","Proposal","theme","text1","bg1","ProposalNumber","span","ProposalTitle","VoteCard","WrapSmall","mediaWidth","upToSmall","TextButton","main","primary1","AddressButton","div","bg3","StyledExternalLink","EmptyProposals","text4","Vote","account","chainId","showDelegateModal","DELEGATE","toggleDelegateModal","allProposals","availableVotes","uniBalance","undefined","userDelegatee","showUnlockVoting","Boolean","notEqual","raw","BigInt","color","textDecoration","margin","flexShrink","length","width","MAINNET","marginLeft","marginBottom","map","p","i","id","title","status"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { AutoColumn } from '../../components/Column'\r\nimport styled from 'styled-components'\r\nimport { TYPE, ExternalLink } from '../../theme'\r\nimport { RowBetween, RowFixed } from '../../components/Row'\r\nimport { Link } from 'react-router-dom'\r\nimport { ProposalStatus } from './styled'\r\nimport { ButtonPrimary } from '../../components/Button'\r\n\r\nimport { Button } from 'rebass/styled-components'\r\nimport { darken } from 'polished'\r\nimport { CardSection, DataCard, CardNoise, CardBGImage } from '../../components/earn/styled'\r\nimport { useAllProposalData, ProposalData, useUserVotes, useUserDelegatee } from '../../state/governance/hooks'\r\nimport DelegateModal from '../../components/vote/DelegateModal'\r\nimport { useTokenBalance } from '../../state/wallet/hooks'\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { UNI, ZERO_ADDRESS } from '../../constants'\r\nimport { JSBI, TokenAmount, ChainId } from '@uniswap/sdk'\r\nimport { shortenAddress, getEtherscanLink } from '../../utils'\r\nimport Loader from '../../components/Loader'\r\nimport FormattedCurrencyAmount from '../../components/FormattedCurrencyAmount'\r\nimport { useModalOpen, useToggleDelegateModal } from '../../state/application/hooks'\r\nimport { ApplicationModal } from '../../state/application/actions'\r\n\r\nconst PageWrapper = styled(AutoColumn)``\r\n\r\nconst TopSection = styled(AutoColumn)`\r\n  max-width: 640px;\r\n  width: 100%;\r\n`\r\n\r\nconst Proposal = styled(Button)`\r\n  padding: 0.75rem 1rem;\r\n  width: 100%;\r\n  margin-top: 1rem;\r\n  border-radius: 12px;\r\n  display: grid;\r\n  grid-template-columns: 48px 1fr 120px;\r\n  align-items: center;\r\n  text-align: left;\r\n  outline: none;\r\n  cursor: pointer;\r\n  color: ${({ theme }) => theme.text1};\r\n  text-decoration: none;\r\n  background-color: ${({ theme }) => theme.bg1};\r\n  &:focus {\r\n    background-color: ${({ theme }) => darken(0.05, theme.bg1)};\r\n  }\r\n  &:hover {\r\n    background-color: ${({ theme }) => darken(0.05, theme.bg1)};\r\n  }\r\n`\r\n\r\nconst ProposalNumber = styled.span`\r\n  opacity: 0.6;\r\n`\r\n\r\nconst ProposalTitle = styled.span`\r\n  font-weight: 600;\r\n`\r\n\r\nconst VoteCard = styled(DataCard)`\r\n  background: radial-gradient(76.02% 75.41% at 1.84% 0%, #27ae60 0%, #000000 100%);\r\n  overflow: hidden;\r\n`\r\n\r\nconst WrapSmall = styled(RowBetween)`\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    flex-wrap: wrap;\r\n  \r\n  `};\r\n`\r\n\r\nconst TextButton = styled(TYPE.main)`\r\n  color: ${({ theme }) => theme.primary1};\r\n  :hover {\r\n    cursor: pointer;\r\n    text-decoration: underline;\r\n  }\r\n`\r\n\r\nconst AddressButton = styled.div`\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n  padding: 2px 4px;\r\n  border-radius: 8px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst StyledExternalLink = styled(ExternalLink)`\r\n  color: ${({ theme }) => theme.text1};\r\n`\r\n\r\nconst EmptyProposals = styled.div`\r\n  border: 1px solid ${({ theme }) => theme.text4};\r\n  padding: 16px 12px;\r\n  border-radius: 12px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nexport default function Vote() {\r\n  const { account, chainId } = useActiveWeb3React()\r\n\r\n  // toggle for showing delegation modal\r\n  const showDelegateModal = useModalOpen(ApplicationModal.DELEGATE)\r\n  const toggleDelegateModal = useToggleDelegateModal()\r\n\r\n  // get data to list all proposals\r\n  const allProposals: ProposalData[] = useAllProposalData()\r\n\r\n  // user data\r\n  const availableVotes: TokenAmount | undefined = useUserVotes()\r\n  const uniBalance: TokenAmount | undefined = useTokenBalance(account ?? undefined, chainId ? UNI[chainId] : undefined)\r\n  const userDelegatee: string | undefined = useUserDelegatee()\r\n\r\n  // show delegation option if they have have a balance, but have not delegated\r\n  const showUnlockVoting = Boolean(\r\n    uniBalance && JSBI.notEqual(uniBalance.raw, JSBI.BigInt(0)) && userDelegatee === ZERO_ADDRESS\r\n  )\r\n\r\n  return (\r\n    <PageWrapper gap=\"lg\" justify=\"center\">\r\n      <DelegateModal\r\n        isOpen={showDelegateModal}\r\n        onDismiss={toggleDelegateModal}\r\n        title={showUnlockVoting ? 'Unlock Votes' : 'Update Delegation'}\r\n      />\r\n      <TopSection gap=\"md\">\r\n        <VoteCard>\r\n          <CardBGImage />\r\n          <CardNoise />\r\n          <CardSection>\r\n            <AutoColumn gap=\"md\">\r\n              <RowBetween>\r\n                <TYPE.white fontWeight={600}>Uniswap Governance</TYPE.white>\r\n              </RowBetween>\r\n              <RowBetween>\r\n                <TYPE.white fontSize={14}>\r\n                  UNI tokens represent voting shares in Uniswap governance. You can vote on each proposal yourself or\r\n                  delegate your votes to a third party.\r\n                </TYPE.white>\r\n              </RowBetween>\r\n              <ExternalLink\r\n                style={{ color: 'white', textDecoration: 'underline' }}\r\n                href=\"https://uniswap.org/blog/uni\"\r\n                target=\"_blank\"\r\n              >\r\n                <TYPE.white fontSize={14}>Read more about Uniswap governance</TYPE.white>\r\n              </ExternalLink>\r\n            </AutoColumn>\r\n          </CardSection>\r\n          <CardBGImage />\r\n          <CardNoise />\r\n        </VoteCard>\r\n      </TopSection>\r\n      <TopSection gap=\"2px\">\r\n        <WrapSmall>\r\n          <TYPE.mediumHeader style={{ margin: '0.5rem 0.5rem 0.5rem 0', flexShrink: 0 }}>Proposals</TYPE.mediumHeader>\r\n          {(!allProposals || allProposals.length === 0) && !availableVotes && <Loader />}\r\n          {showUnlockVoting ? (\r\n            <ButtonPrimary\r\n              style={{ width: 'fit-content' }}\r\n              padding=\"8px\"\r\n              borderRadius=\"8px\"\r\n              onClick={toggleDelegateModal}\r\n            >\r\n              Unlock Voting\r\n            </ButtonPrimary>\r\n          ) : availableVotes && JSBI.notEqual(JSBI.BigInt(0), availableVotes?.raw) ? (\r\n            <TYPE.body fontWeight={500} mr=\"6px\">\r\n              <FormattedCurrencyAmount currencyAmount={availableVotes} /> Votes\r\n            </TYPE.body>\r\n          ) : uniBalance &&\r\n            userDelegatee &&\r\n            userDelegatee !== ZERO_ADDRESS &&\r\n            JSBI.notEqual(JSBI.BigInt(0), uniBalance?.raw) ? (\r\n            <TYPE.body fontWeight={500} mr=\"6px\">\r\n              <FormattedCurrencyAmount currencyAmount={uniBalance} /> Votes\r\n            </TYPE.body>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </WrapSmall>\r\n        {!showUnlockVoting && (\r\n          <RowBetween>\r\n            <div />\r\n            {userDelegatee && userDelegatee !== ZERO_ADDRESS ? (\r\n              <RowFixed>\r\n                <TYPE.body fontWeight={500} mr=\"4px\">\r\n                  Delegated to:\r\n                </TYPE.body>\r\n                <AddressButton>\r\n                  <StyledExternalLink\r\n                    href={getEtherscanLink(ChainId.MAINNET, userDelegatee, 'address')}\r\n                    style={{ margin: '0 4px' }}\r\n                  >\r\n                    {userDelegatee === account ? 'Self' : shortenAddress(userDelegatee)}\r\n                  </StyledExternalLink>\r\n                  <TextButton onClick={toggleDelegateModal} style={{ marginLeft: '4px' }}>\r\n                    (edit)\r\n                  </TextButton>\r\n                </AddressButton>\r\n              </RowFixed>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </RowBetween>\r\n        )}\r\n        {allProposals?.length === 0 && (\r\n          <EmptyProposals>\r\n            <TYPE.body style={{ marginBottom: '8px' }}>No proposals found.</TYPE.body>\r\n            <TYPE.subHeader>\r\n              <i>Proposals submitted by community members will appear here.</i>\r\n            </TYPE.subHeader>\r\n          </EmptyProposals>\r\n        )}\r\n        {allProposals?.map((p: ProposalData, i) => {\r\n          return (\r\n            <Proposal as={Link} to={'/vote/' + p.id} key={i}>\r\n              <ProposalNumber>{p.id}</ProposalNumber>\r\n              <ProposalTitle>{p.title}</ProposalTitle>\r\n              <ProposalStatus status={p.status}>{p.status}</ProposalStatus>\r\n            </Proposal>\r\n          )\r\n        })}\r\n      </TopSection>\r\n      <TYPE.subHeader color=\"text3\">\r\n        A minimum threshhold of 1% of the total UNI supply is required to submit proposals\r\n      </TYPE.subHeader>\r\n    </PageWrapper>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}