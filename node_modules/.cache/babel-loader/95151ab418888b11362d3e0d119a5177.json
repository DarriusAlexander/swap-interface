{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Darrius\\\\Documents\\\\GitHub\\\\swap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\Darrius\\\\Documents\\\\GitHub\\\\swap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  bottom: 0;\\n  width: 100%;\\n  border-radius: 20px;\\n  border-top-right-radius: 0;\\n  border-top-left-radius: 0;\\n  border-top: 1px solid \",\";\\n  padding: 20px;\\n  text-align: center;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: calc(100% - 60px);\\n  position: relative;\\n  padding-bottom: 60px;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useRef,useCallback,useState,useMemo}from'react';import Column from'components/Column';import{PaddedColumn,Separator,SearchInput}from'./styleds';import Row,{RowBetween,RowFixed}from'components/Row';import{TYPE,ExternalLinkIcon,TrashIcon,ButtonText,ExternalLink}from'theme';import{useToken}from'hooks/Tokens';import styled from'styled-components';import{useUserAddedTokens,useRemoveUserAddedToken}from'state/user/hooks';import CurrencyLogo from'components/CurrencyLogo';import{getEtherscanLink,isAddress}from'utils';import{useActiveWeb3React}from'hooks';import Card from'components/Card';import ImportRow from'./ImportRow';import useTheme from'../../hooks/useTheme';import{CurrencyModalView}from'./CurrencySearchModal';var Wrapper=styled.div(_templateObject());var Footer=styled.div(_templateObject2(),function(_ref){var theme=_ref.theme;return theme.bg3;});export default function ManageTokens(_ref2){var setModalView=_ref2.setModalView,setImportToken=_ref2.setImportToken;var _useActiveWeb3React=useActiveWeb3React(),chainId=_useActiveWeb3React.chainId;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchQuery=_useState2[0],setSearchQuery=_useState2[1];var theme=useTheme();// manage focus on modal show\nvar inputRef=useRef();var handleInput=useCallback(function(event){var input=event.target.value;var checksummedInput=isAddress(input);setSearchQuery(checksummedInput||input);},[]);// if they input an address, use it\nvar isAddressSearch=isAddress(searchQuery);var searchToken=useToken(searchQuery);// all tokens for local lisr\nvar userAddedTokens=useUserAddedTokens();var removeToken=useRemoveUserAddedToken();var handleRemoveAll=useCallback(function(){if(chainId&&userAddedTokens){userAddedTokens.map(function(token){return removeToken(chainId,token.address);});}},[removeToken,userAddedTokens,chainId]);var tokenList=useMemo(function(){return chainId&&userAddedTokens.map(function(token){return/*#__PURE__*/React.createElement(RowBetween,{key:token.address,width:\"100%\"},/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(CurrencyLogo,{currency:token,size:'20px'}),/*#__PURE__*/React.createElement(ExternalLink,{href:getEtherscanLink(chainId,token.address,'address')},/*#__PURE__*/React.createElement(TYPE.main,{ml:'10px',fontWeight:600},token.symbol))),/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(TrashIcon,{onClick:function onClick(){return removeToken(chainId,token.address);}}),/*#__PURE__*/React.createElement(ExternalLinkIcon,{href:getEtherscanLink(chainId,token.address,'address')})));});},[userAddedTokens,chainId,removeToken]);return/*#__PURE__*/React.createElement(Wrapper,null,/*#__PURE__*/React.createElement(Column,{style:{width:'100%',flex:'1 1'}},/*#__PURE__*/React.createElement(PaddedColumn,{gap:\"14px\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(SearchInput,{type:\"text\",id:\"token-search-input\",placeholder:'0x0000',value:searchQuery,autoComplete:\"off\",ref:inputRef,onChange:handleInput})),searchQuery!==''&&!isAddressSearch&&/*#__PURE__*/React.createElement(TYPE.error,{error:true},\"Enter valid token address\"),searchToken&&/*#__PURE__*/React.createElement(Card,{backgroundColor:theme.bg2,padding:\"10px 0\"},/*#__PURE__*/React.createElement(ImportRow,{token:searchToken,showImportView:function showImportView(){return setModalView(CurrencyModalView.importToken);},setImportToken:setImportToken,style:{height:'fit-content'}}))),/*#__PURE__*/React.createElement(Separator,null),/*#__PURE__*/React.createElement(PaddedColumn,{gap:\"lg\"},/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(TYPE.main,{fontWeight:600},userAddedTokens===null||userAddedTokens===void 0?void 0:userAddedTokens.length,\" Custom \",userAddedTokens.length===1?'Token':'Tokens'),userAddedTokens.length>0&&/*#__PURE__*/React.createElement(ButtonText,{onClick:handleRemoveAll},/*#__PURE__*/React.createElement(TYPE.blue,null,\"Clear all\"))),tokenList)),/*#__PURE__*/React.createElement(Footer,null,/*#__PURE__*/React.createElement(TYPE.darkGray,null,\"Tip: Custom tokens are stored locally in your browser\")));}","map":{"version":3,"sources":["C:/Users/Darrius/Documents/GitHub/swap-interface/src/components/SearchModal/ManageTokens.tsx"],"names":["React","useRef","useCallback","useState","useMemo","Column","PaddedColumn","Separator","SearchInput","Row","RowBetween","RowFixed","TYPE","ExternalLinkIcon","TrashIcon","ButtonText","ExternalLink","useToken","styled","useUserAddedTokens","useRemoveUserAddedToken","CurrencyLogo","getEtherscanLink","isAddress","useActiveWeb3React","Card","ImportRow","useTheme","CurrencyModalView","Wrapper","div","Footer","theme","bg3","ManageTokens","setModalView","setImportToken","chainId","searchQuery","setSearchQuery","inputRef","handleInput","event","input","target","value","checksummedInput","isAddressSearch","searchToken","userAddedTokens","removeToken","handleRemoveAll","map","token","address","tokenList","symbol","width","flex","bg2","importToken","height","length"],"mappings":"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","sourcesContent":["import React, { useRef, RefObject, useCallback, useState, useMemo } from 'react'\r\nimport Column from 'components/Column'\r\nimport { PaddedColumn, Separator, SearchInput } from './styleds'\r\nimport Row, { RowBetween, RowFixed } from 'components/Row'\r\nimport { TYPE, ExternalLinkIcon, TrashIcon, ButtonText, ExternalLink } from 'theme'\r\nimport { useToken } from 'hooks/Tokens'\r\nimport styled from 'styled-components'\r\nimport { useUserAddedTokens, useRemoveUserAddedToken } from 'state/user/hooks'\r\nimport { Token } from '@uniswap/sdk'\r\nimport CurrencyLogo from 'components/CurrencyLogo'\r\nimport { getEtherscanLink, isAddress } from 'utils'\r\nimport { useActiveWeb3React } from 'hooks'\r\nimport Card from 'components/Card'\r\nimport ImportRow from './ImportRow'\r\nimport useTheme from '../../hooks/useTheme'\r\n\r\nimport { CurrencyModalView } from './CurrencySearchModal'\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  height: calc(100% - 60px);\r\n  position: relative;\r\n  padding-bottom: 60px;\r\n`\r\n\r\nconst Footer = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 100%;\r\n  border-radius: 20px;\r\n  border-top-right-radius: 0;\r\n  border-top-left-radius: 0;\r\n  border-top: 1px solid ${({ theme }) => theme.bg3};\r\n  padding: 20px;\r\n  text-align: center;\r\n`\r\n\r\nexport default function ManageTokens({\r\n  setModalView,\r\n  setImportToken\r\n}: {\r\n  setModalView: (view: CurrencyModalView) => void\r\n  setImportToken: (token: Token) => void\r\n}) {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  const [searchQuery, setSearchQuery] = useState<string>('')\r\n  const theme = useTheme()\r\n\r\n  // manage focus on modal show\r\n  const inputRef = useRef<HTMLInputElement>()\r\n  const handleInput = useCallback(event => {\r\n    const input = event.target.value\r\n    const checksummedInput = isAddress(input)\r\n    setSearchQuery(checksummedInput || input)\r\n  }, [])\r\n\r\n  // if they input an address, use it\r\n  const isAddressSearch = isAddress(searchQuery)\r\n  const searchToken = useToken(searchQuery)\r\n\r\n  // all tokens for local lisr\r\n  const userAddedTokens: Token[] = useUserAddedTokens()\r\n  const removeToken = useRemoveUserAddedToken()\r\n\r\n  const handleRemoveAll = useCallback(() => {\r\n    if (chainId && userAddedTokens) {\r\n      userAddedTokens.map(token => {\r\n        return removeToken(chainId, token.address)\r\n      })\r\n    }\r\n  }, [removeToken, userAddedTokens, chainId])\r\n\r\n  const tokenList = useMemo(() => {\r\n    return (\r\n      chainId &&\r\n      userAddedTokens.map(token => (\r\n        <RowBetween key={token.address} width=\"100%\">\r\n          <RowFixed>\r\n            <CurrencyLogo currency={token} size={'20px'} />\r\n            <ExternalLink href={getEtherscanLink(chainId, token.address, 'address')}>\r\n              <TYPE.main ml={'10px'} fontWeight={600}>\r\n                {token.symbol}\r\n              </TYPE.main>\r\n            </ExternalLink>\r\n          </RowFixed>\r\n          <RowFixed>\r\n            <TrashIcon onClick={() => removeToken(chainId, token.address)} />\r\n            <ExternalLinkIcon href={getEtherscanLink(chainId, token.address, 'address')} />\r\n          </RowFixed>\r\n        </RowBetween>\r\n      ))\r\n    )\r\n  }, [userAddedTokens, chainId, removeToken])\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Column style={{ width: '100%', flex: '1 1' }}>\r\n        <PaddedColumn gap=\"14px\">\r\n          <Row>\r\n            <SearchInput\r\n              type=\"text\"\r\n              id=\"token-search-input\"\r\n              placeholder={'0x0000'}\r\n              value={searchQuery}\r\n              autoComplete=\"off\"\r\n              ref={inputRef as RefObject<HTMLInputElement>}\r\n              onChange={handleInput}\r\n            />\r\n          </Row>\r\n          {searchQuery !== '' && !isAddressSearch && <TYPE.error error={true}>Enter valid token address</TYPE.error>}\r\n          {searchToken && (\r\n            <Card backgroundColor={theme.bg2} padding=\"10px 0\">\r\n              <ImportRow\r\n                token={searchToken}\r\n                showImportView={() => setModalView(CurrencyModalView.importToken)}\r\n                setImportToken={setImportToken}\r\n                style={{ height: 'fit-content' }}\r\n              />\r\n            </Card>\r\n          )}\r\n        </PaddedColumn>\r\n        <Separator />\r\n        <PaddedColumn gap=\"lg\">\r\n          <RowBetween>\r\n            <TYPE.main fontWeight={600}>\r\n              {userAddedTokens?.length} Custom {userAddedTokens.length === 1 ? 'Token' : 'Tokens'}\r\n            </TYPE.main>\r\n            {userAddedTokens.length > 0 && (\r\n              <ButtonText onClick={handleRemoveAll}>\r\n                <TYPE.blue>Clear all</TYPE.blue>\r\n              </ButtonText>\r\n            )}\r\n          </RowBetween>\r\n          {tokenList}\r\n        </PaddedColumn>\r\n      </Column>\r\n      <Footer>\r\n        <TYPE.darkGray>Tip: Custom tokens are stored locally in your browser</TYPE.darkGray>\r\n      </Footer>\r\n    </Wrapper>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}