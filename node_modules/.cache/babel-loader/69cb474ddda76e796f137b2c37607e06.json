{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Darrius\\\\Documents\\\\GitHub\\\\swap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Darrius\\\\Documents\\\\GitHub\\\\swap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"C:\\\\Users\\\\Darrius\\\\Documents\\\\GitHub\\\\swap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\Darrius\\\\Documents\\\\GitHub\\\\swap-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n          width: 100vw;\\n          border-radius: 20px;\\n          border-bottom-left-radius: 0;\\n          border-bottom-right-radius: 0;\\n        \"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n      width:  85vw;\\n      \",\"\\n    \"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n      width: 65vw;\\n      margin: 0;\\n    \"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n        min-height: \",\"vh;\\n      \"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n        max-height: \",\"vh;\\n      \"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  overflow-y: \",\";\\n\\n  &[data-reach-dialog-content] {\\n    margin: 0 0 2rem 0;\\n    background-color: \",\";\\n    box-shadow: 0 4px 8px 0 \",\";\\n    padding: 0px;\\n    width: 50vw;\\n    overflow-y: \",\";\\n    overflow-x: hidden;\\n\\n    align-self: \",\";\\n\\n    max-width: 420px;\\n    \",\"\\n    \",\"\\n    display: flex;\\n    border-radius: 20px;\\n    \",\"\\n    \",\"\\n  }\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  &[data-reach-dialog-overlay] {\\n    z-index: 2;\\n    background-color: transparent;\\n    overflow: hidden;\\n\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n\\n    background-color: \",\";\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from'react';import styled,{css}from'styled-components';import{animated,useTransition,useSpring}from'react-spring';import{DialogOverlay,DialogContent}from'@reach/dialog';import{isMobile}from'react-device-detect';import'@reach/dialog/styles.css';import{transparentize}from'polished';import{useGesture}from'react-use-gesture';var AnimatedDialogOverlay=animated(DialogOverlay);// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar StyledDialogOverlay=styled(AnimatedDialogOverlay)(_templateObject(),function(_ref){var theme=_ref.theme;return theme.modalBG;});var AnimatedDialogContent=animated(DialogContent);// destructure to not pass custom props to Dialog DOM element\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar StyledDialogContent=styled(function(_ref2){var minHeight=_ref2.minHeight,maxHeight=_ref2.maxHeight,mobile=_ref2.mobile,isOpen=_ref2.isOpen,rest=_objectWithoutProperties(_ref2,[\"minHeight\",\"maxHeight\",\"mobile\",\"isOpen\"]);return/*#__PURE__*/React.createElement(AnimatedDialogContent,rest);}).attrs({'aria-label':'dialog'})(_templateObject2(),function(_ref3){var mobile=_ref3.mobile;return mobile?'scroll':'hidden';},function(_ref4){var theme=_ref4.theme;return theme.bg1;},function(_ref5){var theme=_ref5.theme;return transparentize(0.95,theme.shadow1);},function(_ref6){var mobile=_ref6.mobile;return mobile?'scroll':'hidden';},function(_ref7){var mobile=_ref7.mobile;return mobile?'flex-end':'center';},function(_ref8){var maxHeight=_ref8.maxHeight;return maxHeight&&css(_templateObject3(),maxHeight);},function(_ref9){var minHeight=_ref9.minHeight;return minHeight&&css(_templateObject4(),minHeight);},function(_ref10){var theme=_ref10.theme;return theme.mediaWidth.upToMedium(_templateObject5());},function(_ref11){var theme=_ref11.theme,mobile=_ref11.mobile;return theme.mediaWidth.upToSmall(_templateObject6(),mobile&&css(_templateObject7()));});export default function Modal(_ref12){var isOpen=_ref12.isOpen,onDismiss=_ref12.onDismiss,_ref12$minHeight=_ref12.minHeight,minHeight=_ref12$minHeight===void 0?false:_ref12$minHeight,_ref12$maxHeight=_ref12.maxHeight,maxHeight=_ref12$maxHeight===void 0?90:_ref12$maxHeight,initialFocusRef=_ref12.initialFocusRef,children=_ref12.children;var fadeTransition=useTransition(isOpen,null,{config:{duration:200},from:{opacity:0},enter:{opacity:1},leave:{opacity:0}});var _useSpring=useSpring(function(){return{y:0,config:{mass:1,tension:210,friction:20}};}),_useSpring2=_slicedToArray(_useSpring,2),y=_useSpring2[0].y,set=_useSpring2[1];var bind=useGesture({onDrag:function onDrag(state){set({y:state.down?state.movement[1]:0});if(state.movement[1]>300||state.velocity>3&&state.direction[1]>0){onDismiss();}}});return/*#__PURE__*/React.createElement(React.Fragment,null,fadeTransition.map(function(_ref13){var item=_ref13.item,key=_ref13.key,props=_ref13.props;return item&&/*#__PURE__*/React.createElement(StyledDialogOverlay,{key:key,style:props,onDismiss:onDismiss,initialFocusRef:initialFocusRef,unstable_lockFocusAcrossFrames:false},/*#__PURE__*/React.createElement(StyledDialogContent,Object.assign({},isMobile?_objectSpread(_objectSpread({},bind()),{},{style:{transform:y.interpolate(function(y){return\"translateY(\".concat(y>0?y:0,\"px)\");})}}):{},{\"aria-label\":\"dialog content\",minHeight:minHeight,maxHeight:maxHeight,mobile:isMobile}),!initialFocusRef&&isMobile?/*#__PURE__*/React.createElement(\"div\",{tabIndex:1}):null,children));}));}","map":{"version":3,"sources":["C:/Users/Darrius/Documents/GitHub/swap-interface/src/components/Modal/index.tsx"],"names":["React","styled","css","animated","useTransition","useSpring","DialogOverlay","DialogContent","isMobile","transparentize","useGesture","AnimatedDialogOverlay","StyledDialogOverlay","theme","modalBG","AnimatedDialogContent","StyledDialogContent","minHeight","maxHeight","mobile","isOpen","rest","attrs","bg1","shadow1","mediaWidth","upToMedium","upToSmall","Modal","onDismiss","initialFocusRef","children","fadeTransition","config","duration","from","opacity","enter","leave","y","mass","tension","friction","set","bind","onDrag","state","down","movement","velocity","direction","map","item","key","props","style","transform","interpolate"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport styled, { css } from 'styled-components'\r\nimport { animated, useTransition, useSpring } from 'react-spring'\r\nimport { DialogOverlay, DialogContent } from '@reach/dialog'\r\nimport { isMobile } from 'react-device-detect'\r\nimport '@reach/dialog/styles.css'\r\nimport { transparentize } from 'polished'\r\nimport { useGesture } from 'react-use-gesture'\r\n\r\nconst AnimatedDialogOverlay = animated(DialogOverlay)\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nconst StyledDialogOverlay = styled(AnimatedDialogOverlay)`\r\n  &[data-reach-dialog-overlay] {\r\n    z-index: 2;\r\n    background-color: transparent;\r\n    overflow: hidden;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    background-color: ${({ theme }) => theme.modalBG};\r\n  }\r\n`\r\n\r\nconst AnimatedDialogContent = animated(DialogContent)\r\n// destructure to not pass custom props to Dialog DOM element\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nconst StyledDialogContent = styled(({ minHeight, maxHeight, mobile, isOpen, ...rest }) => (\r\n  <AnimatedDialogContent {...rest} />\r\n)).attrs({\r\n  'aria-label': 'dialog'\r\n})`\r\n  overflow-y: ${({ mobile }) => (mobile ? 'scroll' : 'hidden')};\r\n\r\n  &[data-reach-dialog-content] {\r\n    margin: 0 0 2rem 0;\r\n    background-color: ${({ theme }) => theme.bg1};\r\n    box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadow1)};\r\n    padding: 0px;\r\n    width: 50vw;\r\n    overflow-y: ${({ mobile }) => (mobile ? 'scroll' : 'hidden')};\r\n    overflow-x: hidden;\r\n\r\n    align-self: ${({ mobile }) => (mobile ? 'flex-end' : 'center')};\r\n\r\n    max-width: 420px;\r\n    ${({ maxHeight }) =>\r\n      maxHeight &&\r\n      css`\r\n        max-height: ${maxHeight}vh;\r\n      `}\r\n    ${({ minHeight }) =>\r\n      minHeight &&\r\n      css`\r\n        min-height: ${minHeight}vh;\r\n      `}\r\n    display: flex;\r\n    border-radius: 20px;\r\n    ${({ theme }) => theme.mediaWidth.upToMedium`\r\n      width: 65vw;\r\n      margin: 0;\r\n    `}\r\n    ${({ theme, mobile }) => theme.mediaWidth.upToSmall`\r\n      width:  85vw;\r\n      ${mobile &&\r\n        css`\r\n          width: 100vw;\r\n          border-radius: 20px;\r\n          border-bottom-left-radius: 0;\r\n          border-bottom-right-radius: 0;\r\n        `}\r\n    `}\r\n  }\r\n`\r\n\r\ninterface ModalProps {\r\n  isOpen: boolean\r\n  onDismiss: () => void\r\n  minHeight?: number | false\r\n  maxHeight?: number\r\n  initialFocusRef?: React.RefObject<any>\r\n  children?: React.ReactNode\r\n}\r\n\r\nexport default function Modal({\r\n  isOpen,\r\n  onDismiss,\r\n  minHeight = false,\r\n  maxHeight = 90,\r\n  initialFocusRef,\r\n  children\r\n}: ModalProps) {\r\n  const fadeTransition = useTransition(isOpen, null, {\r\n    config: { duration: 200 },\r\n    from: { opacity: 0 },\r\n    enter: { opacity: 1 },\r\n    leave: { opacity: 0 }\r\n  })\r\n\r\n  const [{ y }, set] = useSpring(() => ({ y: 0, config: { mass: 1, tension: 210, friction: 20 } }))\r\n  const bind = useGesture({\r\n    onDrag: state => {\r\n      set({\r\n        y: state.down ? state.movement[1] : 0\r\n      })\r\n      if (state.movement[1] > 300 || (state.velocity > 3 && state.direction[1] > 0)) {\r\n        onDismiss()\r\n      }\r\n    }\r\n  })\r\n\r\n  return (\r\n    <>\r\n      {fadeTransition.map(\r\n        ({ item, key, props }) =>\r\n          item && (\r\n            <StyledDialogOverlay\r\n              key={key}\r\n              style={props}\r\n              onDismiss={onDismiss}\r\n              initialFocusRef={initialFocusRef}\r\n              unstable_lockFocusAcrossFrames={false}\r\n            >\r\n              <StyledDialogContent\r\n                {...(isMobile\r\n                  ? {\r\n                      ...bind(),\r\n                      style: { transform: y.interpolate(y => `translateY(${y > 0 ? y : 0}px)`) }\r\n                    }\r\n                  : {})}\r\n                aria-label=\"dialog content\"\r\n                minHeight={minHeight}\r\n                maxHeight={maxHeight}\r\n                mobile={isMobile}\r\n              >\r\n                {/* prevents the automatic focusing of inputs on mobile by the reach dialog */}\r\n                {!initialFocusRef && isMobile ? <div tabIndex={1} /> : null}\r\n                {children}\r\n              </StyledDialogContent>\r\n            </StyledDialogOverlay>\r\n          )\r\n      )}\r\n    </>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}